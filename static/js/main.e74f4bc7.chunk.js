(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{38:function(e,t,a){},43:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(18),r=a.n(i),c=(a(38),a(4)),o=(a(43),a(5)),d=a(8),l=a(6),u=a(14),m=function(e){return{type:"SET_ACTIVE_USER",payload:e}},h=function(e){return{type:"SET_CHAT_DATA",payload:e}},j=function(e){return{type:"SET_ACTIVE_CHAT",payload:e}},f=function(e){return{type:"SET_USER_CHATS",payload:e}},b=function(e){return{type:"SET_CHAT_FRIEND",payload:e}},v=function(){return{type:"SET_PROFILE_VIEW_OPEN"}},p=function(){return{type:"SET_NEW_CHAT_WINDOW_OPEN"}},O=a(0);var g={setActiveUser:m},x=Object(c.b)((function(e){return{users:e.setUsersData.users,activeUser:e.setActiveUser.activeUser}}),g)((function(e){var t=e.users,a=e.setActiveUser,n=e.activeUser,i=Object(u.a)(),r=i.register,c=i.handleSubmit,m=i.errors,h=Object(s.useState)(!1),j=Object(o.a)(h,2),f=j[0],b=j[1],v=Object(s.useState)(""),p=Object(o.a)(v,2),g=(p[0],p[1]);return""===n?Object(O.jsx)("div",{className:"login-view-container",children:Object(O.jsxs)("form",{className:"login-form form",onSubmit:c((function(e){!function(e){var s=!1;t.forEach((function(t,n){t.email===e.email&&t.password===e.password&&(s=!0,a(t))})),b(!s)}(e)})),children:[Object(O.jsxs)("div",{className:"logo",children:[Object(O.jsx)(d.a,{icon:l.b,className:"icon icon-top"}),Object(O.jsx)("h1",{className:"form-main-heading",children:"Chat App"})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("input",{onChange:function(e){g(e.target.value)},name:"email",placeholder:"Email",ref:r({required:"*Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"*Invalid email address"}})}),Object(O.jsx)(d.a,{icon:l.c,className:"icon"})]})}),Object(O.jsx)("div",{className:"error-message",children:m.email&&m.email.message})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:r({required:"*Password is required"})}),Object(O.jsx)(d.a,{icon:l.h,className:"icon"})]}),Object(O.jsx)("div",{className:"error-message",children:m.password&&Object(O.jsx)("p",{children:m.password.message})}),Object(O.jsx)("div",{className:"error-message error-message-incorrect-input",style:{opacity:f?1:0},children:"*Incorrect email or password"})]}),Object(O.jsx)("button",{className:"btn-wide btn-submit",type:"submit",children:"Login"})]})}):null})),N=a(19),w=a.n(N),C={url:"https://api.jsonbin.io/b/603b79309342196a6a69de29",headers:{headers:{"secret-key":"$2b$10$AgTzU7bySpzUlTMa4xuwT.Y.GSwY4okUERqzYphPesdnIj0G3K32q",versioning:!1}}};var U={setActiveUser:m,setProfileViewOpen:v,setChatData:h,setUserChats:f},I=Object(c.b)((function(e){return{activeUser:e.setActiveUser.activeUser}}),U)((function(e){var t=e.activeUser,a=e.setActiveUser,s=e.setProfileViewOpen,n=e.setChatData;return Object(O.jsx)("div",{className:"user-panel-container",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"profile-image",style:{backgroundImage:'url("'.concat(t.profileImageUrl,'")')}}),Object(O.jsxs)("button",{className:"btn btn-edit-profile",onClick:function(){return s()},children:[Object(O.jsx)(d.a,{icon:l.i,className:"icon"}),Object(O.jsx)("div",{className:"btn-text",children:"Profile"})]}),Object(O.jsxs)("button",{className:"btn btn-sign-out",onClick:function(){a(""),n(""),f("")},children:[Object(O.jsx)(d.a,{icon:l.f,className:"icon"}),Object(O.jsx)("div",{className:"btn-text",children:"Sign out"})]})]})})}));var y={setActiveChat:j,setDataUpdated:function(){return{type:"SET_DATA_UPDATED"}},setChatFriend:b,setNewChatWindowOpen:p},E=Object(c.b)((function(e){return{activeUser:e.setActiveUser.activeUser,users:e.setUsersData.users,chats:e.setChatData.chats,activeChatIndex:e.setActiveChat.activeChatIndex,userChats:e.setUserChats.userChats,chatFriend:e.setChatFriend.chatFriend[0]}}),y)((function(e){var t=e.activeUser,a=e.setActiveChat,s=e.activeChatIndex,n=e.userChats,i=e.setNewChatWindowOpen,r=function(e){var t=JSON.parse(JSON.stringify(e)).messages.reverse().findIndex((function(e){return void 0===e[2]}));return t=e.messages.length-t-1};return""!==n&&void 0!==n?Object(O.jsxs)("div",{className:"chats-list-container",children:[Object(O.jsxs)("div",{className:"chats-list-top",children:[Object(O.jsx)("h1",{children:"Chats"}),Object(O.jsx)("button",{className:"btn btn-new-chat",onClick:function(){return i()},children:Object(O.jsx)(d.a,{icon:l.e,className:"icon"})})]}),Object(O.jsx)("div",{className:"user-chats",children:n.map((function(e,i){var c=function(e){var a="",s="",n=r(e);if(e.messages.length>0&&n>=0&&e.messages.length>n){var i=e.messages[n][0];a=e.messages[n][1],s="",s=i===t.id?"you":(s=e.usersInChat.filter((function(e){return i===e.id})))[0].firstName}return{sender:s,text:a}}(e),o=s===i?"active-chat":"",d=function(e){return n[e].usersInChat.filter((function(e){return t.id!==e.id}))[0]}(i);return Object(O.jsxs)("div",{className:"user-chat ".concat(o),onClick:function(){return a({index:i,open:!0})},children:[Object(O.jsx)("div",{className:"friend-profile-image",style:{backgroundImage:'url("'.concat(d.profileImageUrl,'")')}}),Object(O.jsxs)("div",{className:"chat-info",children:[Object(O.jsxs)("div",{className:"name-container",children:[Object(O.jsx)("div",{className:"firstname",children:d.firstName}),Object(O.jsx)("div",{className:"secondname",children:d.secondName})]}),Object(O.jsxs)("div",{className:"last-message-container",children:[Object(O.jsx)("div",{className:"message-sender",children:"".concat(c.sender).concat(""!==c.sender?":":"")}),Object(O.jsx)("div",{className:"message-text",children:c.text})]})]})]},i)}))})]}):null}));var S={setActiveChat:j},A=Object(c.b)((function(e){return{activeUser:e.setActiveUser.activeUser,activeChatIndex:e.setActiveChat.activeChatIndex,userChats:e.setUserChats.userChats}}),S)((function(e){var t=e.activeUser,a=e.activeChatIndex,s=e.userChats,n=e.setActiveChat;return Object(O.jsx)("div",{className:"users-in-chat-container",children:s[a].usersInChat.map((function(e,a){var s=e.profileImageUrl;return e.id!==t.id?Object(O.jsxs)("div",{className:"user-in-chat-info",children:[Object(O.jsx)("button",{className:"btn btn-back",onClick:function(){return n({open:!1})},children:Object(O.jsx)(d.a,{icon:l.a,className:"icon"})}),Object(O.jsx)("div",{className:"user-avatar-container",style:{backgroundImage:'url("'.concat(s,'")')}}),Object(O.jsxs)("div",{className:"name-container",children:[Object(O.jsx)("div",{className:"user-firstname user-name",children:e.firstName}),Object(O.jsx)("div",{className:"user-secondname user-name",children:e.secondName})]})]},a):null}))})}));var T=Object(c.b)((function(e){return{activeUser:e.setActiveUser.activeUser}}),null)((function(e){var t=e.messageData,a=e.activeUser,n=e.onMessageTimerChange,i=e.messageIndex,r=Object(s.useState)(3),c=Object(o.a)(r,2),d=c[0],l=c[1];Object(s.useEffect)((function(){if(d>=1){var e=setTimeout((function(){l(d-1)}),1e3);return function(){return clearTimeout(e)}}0===d&&u()}));var u=function(){t[2].forEach((function(e,s){var r=e[0];if(a.id===r){var c=t;c[2][s][1]=!1,n(c,i)}}))};return Object(O.jsx)("div",{className:"message-timer",children:"00:".concat(d>=10?"":"0").concat(d)})}));var D={setActiveChat:j,setChatData:h},_=Object(c.b)((function(e){return{activeUser:e.setActiveUser.activeUser,chats:e.setChatData.chats,activeChatIndex:e.setActiveChat.activeChatIndex,activeChatOpen:e.setActiveChat.activeChatOpen,userChats:e.setUserChats.userChats,chatFriend:e.setChatFriend.chatFriend}}),D)((function(e){var t=e.activeUser,a=e.chats,n=e.activeChatIndex,i=e.userChats,r=e.setActiveChat,c=e.activeChatOpen,m=e.setChatData,h=e.chatFriend,j=Object(s.useRef)(null),f=Object(u.a)(),b=f.register,v=f.handleSubmit,p=(f.errors,function(e){var t;null===(t=j.current)||void 0===t||t.scrollIntoView({behavior:e})});Object(s.useEffect)((function(){p("smooth")}),[a,c]),Object(s.useEffect)((function(){p("auto")}),[n]);var g=Object(s.useState)(!0),x=Object(o.a)(g,2),N=(x[0],x[1]),U=Object(s.useState)(""),I=Object(o.a)(U,2),y=(I[0],I[1]),E=Object(s.useState)(!1),S=Object(o.a)(E,2),D=S[0],_=S[1],F=function(e,t){var s=function(e,t){var s=i[n].id,r=JSON.parse(JSON.stringify(a)),c=function(e){var t=e[2],a=0;if(t)return t.forEach((function(e,t){e[1]||a++})),a===t.length}(e);return r.forEach((function(a){s===a.id&&(void 0===t?(a.updateTime=Date.now(),a.messages.push(e)):c?a.messages.splice(t,1):a.messages[t]=e)})),r}(e,t);m(s),r({index:0}),w.a.put(C.url,{chats:s},C.headers).then((function(){N(!1)})).catch((function(e){N(!1),y(e)}))},k=function(e,t){F(e,t)};return Object(O.jsxs)("div",{className:"messages-window-container messages-window-hide-mobile ".concat(c?"messages-window-show-mobile":""),children:[Object(O.jsx)(A,{}),Object(O.jsx)("div",{className:"sent-messages-container",children:Object(O.jsxs)("div",{className:"overflow-wrapper",children:[i[n].messages.map((function(e,a){var s=e[0],r=e[1],c=function(e){return i[n].usersInChat.filter((function(t){return e===t.id}))[0]}(s),o=t.id===s?"right":"left",d=e[2];return function(e){var a=!0;return e&&e.forEach((function(e,s){var n=e[0];t.id===n&&(a=e[1])})),a}(e[2])?Object(O.jsxs)("div",{className:"message-container message-container-".concat(o),children:[d?Object(O.jsx)(T,{messageData:e,messageIndex:a,onMessageTimerChange:k}):null,Object(O.jsxs)("div",{className:"name-container",children:[Object(O.jsx)("div",{className:"sender-firstname sender-name",children:c.firstName}),Object(O.jsx)("div",{className:"sender-secondname sender-name",children:c.secondName})]}),Object(O.jsx)("div",{className:"friend-avatar-container",style:{backgroundImage:'url("'.concat(c.profileImageUrl,'")')}}),Object(O.jsx)("div",{className:"message-text",children:r})]},a):null})),Object(O.jsx)("div",{ref:j,className:"bottom-container"})]})}),Object(O.jsxs)("form",{className:"send-message-container",onSubmit:v((function(e,a){a.target.reset();var s=[t.id,e.message];s=function(e,a){if(a){var s=[[t.id,!0],[h.id,!0]];e.push(s)}return e}(s,e.dissapearingMessage),F(s)})),children:[Object(O.jsxs)("div",{className:"dissapearing-message-container",children:[Object(O.jsx)("label",{htmlFor:"dissapearingMessage",children:"Dissapearing message"}),Object(O.jsx)("input",{className:"check-box",type:"checkbox",name:"dissapearingMessage",checked:D,onChange:function(){return _(!D)},ref:b})]}),Object(O.jsx)("textarea",{className:"message-input",type:"text",placeholder:"Type a message here...",name:"message",ref:b({required:!0})}),Object(O.jsx)("button",{className:"btn btn-send-message",children:Object(O.jsx)(d.a,{icon:l.d,className:"icon"})})]})]})}));var F=Object(c.b)((function(e){return{chatFriend:e.setChatFriend.chatFriend}}),null)((function(e){var t=e.chatFriend;return Object(O.jsx)("div",{className:"friend-panel-container",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"profile-image",style:{backgroundImage:'url("'.concat(t.profileImageUrl,'")')}}),Object(O.jsxs)("div",{className:"names-container",children:[Object(O.jsx)("div",{className:"first-name",children:t.firstName}),Object(O.jsx)("div",{className:"second-name",children:t.secondName})]})]})})})),k=a(7);var P={setChatData:h,setActiveChat:j,setNewChatWindowOpen:p},W=Object(c.b)((function(e){return{userFriends:e.setUserFriends.userFriends,newChatWindowOpen:e.setNewChatWindowOpen.newChatWindowOpen,activeUser:e.setActiveUser.activeUser,chats:e.setChatData.chats,userChats:e.setUserChats.userChats}}),P)((function(e){var t=e.userFriends,a=e.activeUser,s=e.newChatWindowOpen,n=e.chats,i=e.setChatData,r=e.userChats,c=e.setActiveChat,o=e.setNewChatWindowOpen,d=function(e){var t,a=!1;return r.forEach((function(s,n){s.usersIDs.forEach((function(s){e===s&&(a=!0,t=n)}))})),{chatExist:a,chatIndex:t}};return""!==t?Object(O.jsxs)("div",{className:"new-chat-container",style:{display:s?"flex":"none"},children:[Object(O.jsx)("h1",{children:"New chat"}),Object(O.jsx)("div",{className:"friends-container",children:t.map((function(e,t){return Object(O.jsxs)("div",{className:"friend-info",onClick:function(){return function(e){var t=JSON.parse(JSON.stringify(n)),s={chatID:n.length+1,updateTime:Date.now(),usersIDs:[a.id,e],messages:[]},r=d(e);if(r.chatExist)c({index:r.chatIndex,open:!0});else{var l=[s].concat(Object(k.a)(t));i(l),c({index:0,open:!0})}o()}(e.id)},children:[Object(O.jsx)("div",{className:"friend-profile-image",style:{backgroundImage:'url("'.concat(e.profileImageUrl,'")')}}),Object(O.jsxs)("div",{className:"name-container",children:[Object(O.jsx)("div",{className:"firstname",children:e.firstName}),Object(O.jsx)("div",{className:"secondname",children:e.secondName})]})]},t)}))})]}):null}));var V={setNewChatWindowOpen:p},R=Object(c.b)((function(e){return{newChatWindowOpen:e.setNewChatWindowOpen.newChatWindowOpen}}),V)((function(e){var t=e.setNewChatWindowOpen,a=e.newChatWindowOpen;return Object(O.jsx)("div",{className:"dark-overlay-container",style:{display:a?"flex":"none"},onClick:function(){return t()}})}));var M={setChatData:h,setUserChats:f,setUserFriends:function(e){return{type:"SET_USER_FRIENDS",payload:e}},setChatFriend:b},J=Object(c.b)((function(e){return{users:e.setUsersData.users,chats:e.setChatData.chats,activeUser:e.setActiveUser.activeUser,userChats:e.setUserChats.userChats,activeChatIndex:e.setActiveChat.activeChatIndex,dataUpdateIndex:e.setDataUpdated.dataUpdateIndex}}),M)((function(e){var t=e.users,a=e.chats,n=e.activeUser,i=e.userChats,r=e.dataUpdateIndex,c=e.activeChatIndex,u=e.setUserChats,m=e.setChatFriend,h=e.setUserFriends,j=e.setChatData,f=Object(s.useState)(!1),b=Object(o.a)(f,2),v=b[0],p=b[1],g=Object(s.useState)(""),x=Object(o.a)(g,2),N=(x[0],x[1]),U=Object(s.useRef)(!0);Object(s.useEffect)((function(){""!==n&&y()}),[n,r]),Object(s.useEffect)((function(){U.current?U.current=!1:u(S())}),[a]),Object(s.useEffect)((function(){U.current?U.current=!1:(T(),A())}),[i]),Object(s.useEffect)((function(){""!==n&&T()}),[c]);var y=function(){p(!0),w.a.get(C.url,C.headers).then((function(e){p(!1);var t=e.data.chats;j(t)})).catch((function(e){N(e),p(!1)}))},S=function(){var e=JSON.parse(JSON.stringify(a));if(""!==e&&void 0!==e&&""!==t&&void 0!==t){var s=[];return e.forEach((function(e,a){var i=!1,r=[];e.usersIDs.forEach((function(e){e===n.id&&(i=!0),t.forEach((function(t){e===t.id&&r.push(t)}))})),i&&(s.push(e),s[a].usersInChat=r)})),s.sort((function(e,t){return t.updateTime-e.updateTime})),s}},A=function(){var e=[];void 0!==i&&""!==i&&""!==n&&(n.friendsId.forEach((function(a){t.forEach((function(t){a===t.id&&e.push(t)}))})),h(e))},T=function(){if(void 0!==i&&""!==i){var e=JSON.parse(JSON.stringify(i))[c].usersInChat.filter((function(e){return n.id!==e.id}));m(e[0])}};return""!==i&&void 0!==i&&""!==n?Object(O.jsx)("div",{className:"chat-view-container",children:Object(O.jsxs)("div",{className:"chat-view-content",children:[Object(O.jsx)(I,{}),Object(O.jsx)(E,{}),Object(O.jsx)(_,{}),Object(O.jsx)(F,{}),Object(O.jsx)(R,{}),Object(O.jsx)(W,{})]})}):v?Object(O.jsxs)("div",{className:"chats-loading-container",children:["Loading chats",Object(O.jsx)(d.a,{icon:l.g,className:"icon"})]}):null}));var q={setActiveUser:m,setProfileViewOpen:v},B=Object(c.b)((function(e){return{users:e.setUsersData.users,chats:e.setChatData.chats,activeUser:e.setActiveUser.activeUser,profileViewOpen:e.setProfileViewOpen.profileViewOpen}}),q)((function(e){var t=e.users,a=e.activeUser,n=e.profileViewOpen,i=e.setActiveUser,r=e.setProfileViewOpen,c=Object(u.a)(),m=c.register,h=c.handleSubmit,j=c.errors,f=Object(s.useState)(""),b=Object(o.a)(f,2),v=b[0],p=b[1],g=Object(s.useState)(!0),x=Object(o.a)(g,2),N=x[0],w=x[1],C=Object(s.useState)(!1),U=Object(o.a)(C,2),I=U[0],y=U[1];Object(s.useEffect)((function(){p(a.profileImageUrl)}),[n]);var E=Object(s.useState)(""),S=Object(o.a)(E,2),A=(S[0],S[1]);return function(e){if(""!==e){var t=new Image;t.onload=function(){this.width>0&&w(!0)},t.onerror=function(){w(!1)},t.src=e}}(v),n?Object(O.jsx)("div",{className:"profile-view-container",children:Object(O.jsxs)("form",{className:"profile-form form",onSubmit:h((function(e){!function(e){var s=!1;t.forEach((function(t){a.id!==t.id&&(e!==t.email||(s=!0))})),y(!!s)}(e.email),I||!N&&""!==e.profileImageUrl||(""===e.profileImageUrl&&(e.profileImageUrl="./images/user.png"),i(e))})),children:[Object(O.jsxs)("h1",{className:"form-main-heading",children:[Object(O.jsx)("button",{className:"btn btn-back",onClick:function(){return r()},children:Object(O.jsx)(d.a,{icon:l.a,className:"icon"})}),"EDIT PROFILE"]}),Object(O.jsxs)("div",{className:"profile-info-container",children:[Object(O.jsx)("div",{className:"profile-image",style:{backgroundImage:'url("'.concat(a.profileImageUrl,'")')}}),Object(O.jsx)("div",{className:"profile-info",children:Object(O.jsxs)("div",{className:"names-container",children:[Object(O.jsx)("div",{className:"first-name",children:a.firstName}),Object(O.jsx)("div",{className:"second-name",children:a.secondName})]})})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{defaultValue:a.email,onChange:function(e){A(e.target.value)},name:"email",placeholder:"Email",ref:m({required:"*Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"*Invalid email address"}})})]}),Object(O.jsx)("div",{className:"error-message",children:j.email&&!I?j.email.message:""}),Object(O.jsx)("div",{className:"error-message error-message-email-exist",children:I?"*User with same email exists":""})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{defaultValue:a.password,type:"password",placeholder:"Password",name:"password",ref:m({required:"*Password is required"})})]}),Object(O.jsx)("div",{className:"error-message",children:j.password&&Object(O.jsx)("p",{children:j.password.message})})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"firstname",children:"First name"}),Object(O.jsx)("input",{defaultValue:a.firstName,type:"text",placeholder:"First name",name:"firstName",ref:m({required:"*First name is required"})})]}),Object(O.jsx)("div",{className:"error-message",children:j.firstname&&Object(O.jsx)("p",{children:j.firstname.message})})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"secondname",children:"Second name"}),Object(O.jsx)("input",{defaultValue:a.secondName,type:"text",placeholder:"Second name",name:"secondName",ref:m({required:"*Second name is required"})})]}),Object(O.jsx)("div",{className:"error-message",children:j.secondname&&Object(O.jsx)("p",{children:j.secondname.message})})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"profileImageUrl",children:"Profile image"}),Object(O.jsx)("input",{defaultValue:a.profileImageUrl,type:"text",placeholder:"Profile image url",name:"profileImageUrl",ref:m(),onChange:function(e){return p(e.target.value)}})]}),Object(O.jsx)("div",{className:"error-message",children:N||""===v?"":"Image does not exist"})]}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"city",children:"City"}),Object(O.jsx)("input",{defaultValue:a.city,type:"text",placeholder:"City",name:"city",ref:m()})]}),Object(O.jsx)("div",{className:"error-message",children:j.city&&Object(O.jsx)("p",{children:j.city.message})})]}),Object(O.jsxs)("div",{className:"form-input form-input-about",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsx)("label",{htmlFor:"about",children:"Biography"}),Object(O.jsx)("textarea",{defaultValue:a.about,type:"text",placeholder:"About me",name:"about",ref:m()})]}),Object(O.jsx)("div",{className:"error-message",children:j.about&&Object(O.jsx)("p",{children:j.about.message})})]}),Object(O.jsxs)("div",{className:"buttons-container",children:[Object(O.jsx)("button",{className:"btn-wide btn-cancel",onClick:function(){return r()},children:"Close"}),Object(O.jsx)("button",{className:"btn-wide btn-submit",type:"submit",children:"Update"})]})]})},a):null}));var H={setBrowserName:function(e){return{type:"SET_BROWSER_NAME",payload:e}}},L=Object(c.b)((function(e){return{browserName:e.setBrowserName.browserName}}),H)((function(e){var t=e.browserName,a=e.setBrowserName;Object(s.useEffect)((function(){n()}));var n=function(){var e="";e=navigator.vendor.match(/google/i)?"chrome/blink":navigator.vendor.match(/apple/i)?"safari/webkit":navigator.userAgent.match(/firefox\//i)?"firefox/gecko":navigator.userAgent.match(/edge\//i)?"edge/edgehtml":navigator.userAgent.match(/trident\//i)?"ie/trident":navigator.userAgent+"\n"+navigator.vendor,a(e)};return Object(O.jsx)("div",{className:"app-wrapper",children:Object(O.jsxs)("div",{className:"app-container ".concat("safari/webkit"!==t?"container-size":""),children:[Object(O.jsx)(x,{}),Object(O.jsx)(J,{}),Object(O.jsx)(B,{})]})})})),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))},Z=a(12),G=a(2),$={activeUser:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_USER":var a=t.payload;return""!==e.activeUser&&""!==a&&(console.log("gera"),a.id=e.activeUser.id,a.friendsId=e.activeUser.friendsId),Object(G.a)(Object(G.a)({},e),{},{activeUser:a});default:return e}},K={chats:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT_DATA":return Object(G.a)(Object(G.a)({},e),{},{chats:t.payload});default:return e}},Q={users:[{id:1,email:"user1@website.com",password:"123",friendsId:[2,3,4,5,6,7,8,9,10],firstName:"Tom",secondName:"Gill",profileImageUrl:"https://i.ibb.co/K0hFfTX/profile02.jpg",city:"Los Angeles",about:"A few of my favorite sports and games are skating, gymnastics, and ping pong."},{id:2,email:"user2@website.com",password:"123",friendsId:[1,3,4,5],firstName:"James",secondName:"Jordan",profileImageUrl:"https://businesstech.co.za/news/wp-content/uploads/2015/03/Male-ideal-beauty.jpg",city:"New York",about:"Let me tell you about pets: I have 3 dogs, 1 cat, and a lizard."},{id:3,email:"user3@website.com",password:"123",friendsId:[1,2,4,9,10],firstName:"Silvia",secondName:"Cox",profileImageUrl:"https://i.ibb.co/54mFXJy/profile01.jpg",city:"Seattle",about:"My favorite fun places I like to go are Disneyland, the beach, and grandma's house."},{id:4,email:"user4@website.com",password:"123",friendsId:[1,2,3],firstName:"Phil",secondName:"Garret",profileImageUrl:"https://widgetwhats.com/app/uploads/2019/11/free-profile-photo-whatsapp-4.png",city:"New Mexico",about:""},{id:5,email:"user5@website.com",password:"123",friendsId:[1,2],firstName:"Peter",secondName:"Pearce",profileImageUrl:"https://widgetwhats.com/app/uploads/2019/11/free-profile-photo-whatsapp-2.png",city:"Chicago",about:"My favorite subjects are art, robotics, dance, and math."},{id:6,email:"user6@website.com",password:"123",friendsId:[1],firstName:"Devon",secondName:"Randolph",profileImageUrl:"https://i.pinimg.com/originals/8e/43/e6/8e43e679cb2f6c4cbd83dbc0d026539f.jpg",city:"Vancouver",about:""},{id:7,email:"user7@website.com",password:"123",friendsId:[1,10],firstName:"Ashton",secondName:"Gordon",profileImageUrl:"https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg.jpg",city:"Banff",about:"My family members are Shyli, Grace, Sky, Megan, and Joey."},{id:8,email:"user8@website.com",password:"123",friendsId:[1,9],firstName:"Daniel",secondName:"Morris",profileImageUrl:"https://post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/02/266749_2200-732x549.jpg",city:"Toronto",about:""},{id:9,email:"user9@website.com",password:"123",friendsId:[1,3,8,10],firstName:"Alan",secondName:"Baldwin",profileImageUrl:"https://i.ibb.co/rfKSm75/user.png",city:"Lima",about:"Certified internet ninja. Foodaholic. Hardcore bacon aficionado. Student. Organizer. Incurable travel fanatic. Twitter nerd."},{id:10,email:"user10@website.com",password:"123",friendsId:[1,3,7,9],firstName:"Jane",secondName:"Allen",profileImageUrl:"https://cupcakesandcashmere.com/.image/t_share/MTU5MzMzODc5MDkyNjE4NDU0/img_0863.jpg",city:"San Francisco",about:"Bacon practitioner. Falls down a lot. Tv fanatic. Zombie nerd."}]},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_DATA":return Object(G.a)(Object(G.a)({},e),{},{users:t.payload});default:return e}},te={activeChatIndex:0,activeChatOpen:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_CHAT":var a,s,n=t.payload;return a=void 0!==n.index?n.index:e.activeChatIndex,s=void 0!==n.open?n.open:e.activeChatOpen,Object(G.a)(Object(G.a)({},e),{},{activeChatIndex:a,activeChatOpen:s});default:return e}},se={dataUpdateIndex:0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA_UPDATED":return Object(G.a)(Object(G.a)({},e),{},{dataUpdateIndex:e.dataUpdateIndex+1});default:return e}},ie={userChats:""},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_CHATS":return Object(G.a)(Object(G.a)({},e),{},{userChats:t.payload});default:return e}},ce={chatFriend:""},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT_FRIEND":return Object(G.a)(Object(G.a)({},e),{},{chatFriend:t.payload});default:return e}},de={userFriends:""},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_FRIENDS":return Object(G.a)(Object(G.a)({},e),{},{userFriends:t.payload});default:return e}},ue={profileViewOpen:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROFILE_VIEW_OPEN":var a=e.profileViewOpen;return Object(G.a)(Object(G.a)({},e),{},{profileViewOpen:!a});default:return e}},he={newChatWindowOpen:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_CHAT_WINDOW_OPEN":var a=e.newChatWindowOpen;return Object(G.a)(Object(G.a)({},e),{},{newChatWindowOpen:!a});default:return e}},fe={browserName:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BROWSER_NAME":return Object(G.a)(Object(G.a)({},e),{},{browserName:t.payload});default:return e}},ve=Object(Z.b)({setActiveUser:Y,setChatData:X,setUsersData:ee,setActiveChat:ae,setDataUpdated:ne,setUserChats:re,setChatFriend:oe,setUserFriends:le,setProfileViewOpen:me,setNewChatWindowOpen:je,setBrowserName:be}),pe=Object(Z.c)(ve);r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(c.a,{store:pe,children:Object(O.jsx)(L,{})})}),document.getElementById("root")),z()}},[[65,1,2]]]);
//# sourceMappingURL=main.e74f4bc7.chunk.js.map